name: code_quality_check
version: "1.0.0"
description: "Comprehensive code quality check using ruff (linter/formatter) and pyright (type checker)"
category: development
tags:
  - linting
  - formatting
  - type-checking
  - code-quality

# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®èª¬æ˜
agent_description: |
  ã‚³ãƒ¼ãƒ‰å“è³ªã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã‚¹ã‚­ãƒ«ã€‚ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š
  1. ruff ã§ã‚³ãƒ¼ãƒ‰ã® lint ãƒã‚§ãƒƒã‚¯ï¼ˆã‚¹ã‚¿ã‚¤ãƒ«ã€ãƒã‚°æ¤œå‡ºï¼‰
  2. ruff ã§ã‚³ãƒ¼ãƒ‰ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯
  3. pyright ã§å‹ãƒã‚§ãƒƒã‚¯ï¼ˆå‹ã®æ•´åˆæ€§ï¼‰

  ä½¿ã„æ–¹:
  - é€šå¸¸ã®ãƒã‚§ãƒƒã‚¯: ./scripts/check_code_quality.sh
  - è‡ªå‹•ä¿®æ­£ä»˜ã: ./scripts/check_code_quality.sh --fix

# ã‚¹ã‚­ãƒ«ã®å®Ÿè¡Œæ–¹æ³•
execution:
  type: script
  command: ./scripts/check_code_quality.sh

  # ã‚ªãƒ—ã‚·ãƒ§ãƒ³
  options:
    - name: fix
      flag: --fix
      description: "è‡ªå‹•ä¿®æ­£ã‚’é©ç”¨ï¼ˆå¯èƒ½ãªå ´åˆï¼‰"
      default: false

# å‰ææ¡ä»¶
prerequisites:
  - name: ruff
    type: package
    install_command: "pip install ruff"
    check_command: "ruff --version"

  - name: pyright
    type: package
    install_command: "pip install pyright"
    check_command: "pyright --version"

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›
output:
  success_indicators:
    - "âœ… Ruff linter"
    - "âœ… Ruff formatter"
    - "âœ… Pyright type checker"
    - "ğŸ‰ All checks passed!"

  failure_indicators:
    - "error:"
    - "âŒ"
    - "Found"

# ä½¿ç”¨ä¾‹
examples:
  - description: "ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰"
    command: "./scripts/check_code_quality.sh"

  - description: "ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ï¼‹è‡ªå‹•ä¿®æ­£"
    command: "./scripts/check_code_quality.sh --fix"

# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®æ¨å¥¨äº‹é …
recommendations:
  when_to_use:
    - "ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ãŸå¾Œ"
    - "ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹å‰"
    - "ã‚³ãƒŸãƒƒãƒˆã™ã‚‹å‰"
    - "ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å—ã‘ã‚‹å‰"

  what_to_check:
    - "æ–°è¦ä½œæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«"
    - "å¤‰æ›´ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«"
    - "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ï¼ˆé‡è¦ãªå¤‰æ›´ã®å ´åˆï¼‰"

# ä¸€èˆ¬çš„ãªå•é¡Œã¨è§£æ±ºç­–
troubleshooting:
  - problem: "ruff not found"
    solution: "pip install ruff ã‚’å®Ÿè¡Œã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"

  - problem: "pyright not found"
    solution: "pip install pyright ã‚’å®Ÿè¡Œã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"

  - problem: "å¤šæ•°ã®ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹"
    solution: "--fix ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦è‡ªå‹•ä¿®æ­£å¯èƒ½ãªã‚‚ã®ã‚’ä¿®æ­£"
